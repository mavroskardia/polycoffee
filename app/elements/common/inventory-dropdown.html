<dom-module id="inventory-dropdown">
    <style>
        paper-dropdown-menu {
            display: block;
        }
        paper-item-body {
            display: block;
            width: 100%;
            border-bottom: solid 1px #eee;
        }
        paper-item-body em {
            font-style: oblique;
            text-align: right;
            font-size: 0.8rem;
            color: #888;
        }
    </style>
    <template>
        <firebase-collection id="fb"
            location="https://swcoffee.firebaseio.com/inventory"
            data="{{inventory}}">
        </firebase-collection>
        <paper-dropdown-menu label="Item to add to order">
            <paper-menu id="menu" class="dropdown-content"
                on-iron-select="select">
                <template is="dom-repeat" items="{{inventory}}">
                    <paper-item>
                        <paper-item-body class="horizontal layout">
                            <span class="flex">{{item.name}}</span>
                            <em><currency-display value="{{item.price}}"></currency-display></em>
                        </paper-item-body>
                    </paper-item>
                </template>
            </paper-menu>
        </paper-dropdown-menu>
    </template>
</dom-module>
<script>
    Polymer({
        is: 'inventory-dropdown',
        properties: {
            item: {
                type: Object,
                notify: true
            }
        },
        select: function () {
            this.item = this.inventory[parseInt(this.$.menu.selected)];
            this.fire('iron-select', this.item);
        }
    });
</script>